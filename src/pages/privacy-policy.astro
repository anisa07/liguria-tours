---
import IntlBaseLayout from "@/layouts/IntlBaseLayout.astro";
import Container from "@/components/layout/Container.astro";
import Section from "@/components/layout/Section.astro";
import { getPageTranslations } from "@/i18n/i18n";
import type { Locale } from "@/i18n/config";

// Set locale to Russian (only supported locale)
const locale: Locale = "ru";

// Get the translation function for this page
const { t } = await getPageTranslations(locale, ["common", "ui", "policy"]);

// SEO data for this page
const seoData = {
  title: t("policy.title", "Политика конфиденциальности"),
  description: t(
    "policy.description",
    "Политика конфиденциальности и защиты персональных данных"
  ),
  canonical: `${Astro.site}privacy-policy`,
  openGraph: {
    title: t("policy.title", "Политика конфиденциальности"),
    description: t(
      "policy.description",
      "Политика конфиденциальности и защиты персональных данных"
    ),
    type: "article",
  },
};
---

<IntlBaseLayout
  locale={locale}
  pageNS={["common", "ui", "policy"]}
  seoData={seoData}
>
  <Section class="py-12">
    <Container>
      <div class="max-w-4xl mx-auto">
        <!-- Page Header -->
        <header class="mb-12">
          <h1 class="text-4xl md:text-5xl font-bold mb-4">
            {t("policy.title", "Политика конфиденциальности")}
          </h1>
          <p class="text-lg text-muted-foreground">
            {t("policy.last_updated", "Последнее обновление:")}
            {
              new Date().toLocaleDateString("ru-RU", {
                year: "numeric",
                month: "long",
                day: "numeric",
              })
            }
          </p>
        </header>

        <!-- Content -->
        <article class="space-y-8">
          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_1.title", "1. Общие положения")}
            </h2>
            <p class="text-muted-foreground leading-relaxed text-justify">
              {
                t(
                  "policy.section_1.paragraph_1",
                  "Настоящая Политика конфиденциальности описывает, как Светлана Зеленова (индивидуальный гид по Лигурии) собирает, использует и защищает персональную информацию посетителей сайта liguria-tours.com."
                )
              }
            </p>
            <p class="text-muted-foreground leading-relaxed text-justify">
              {
                t(
                  "policy.section_1.paragraph_2",
                  "Используя наш сайт и наши услуги, вы соглашаетесь с условиями данной политики конфиденциальности и обработкой ваших персональных данных в соответствии с действующим законодательством Европейского Союза (GDPR)."
                )
              }
            </p>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_2.title", "2. Какую информацию мы собираем")}
            </h2>
            <p class="text-muted-foreground leading-relaxed mb-3 text-justify">
              {
                t(
                  "policy.section_2.description",
                  "Мы можем собирать следующую информацию:"
                )
              }
            </p>
            <ul class="list-disc pl-6 space-y-2 text-muted-foreground">
              <li>
                {
                  t(
                    "policy.section_2.data_types.0",
                    "Имя и контактные данные (email, телефон)"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_2.data_types.1",
                    "Информацию о забронированных турах"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_2.data_types.2",
                    "Предпочтения и интересы, связанные с туристическими услугами"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_2.data_types.3",
                    "Информацию о посещении сайта (IP-адрес, тип браузера, время посещения)"
                  )
                }
              </li>
            </ul>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_3.title", "3. Как мы используем информацию")}
            </h2>
            <p class="text-muted-foreground leading-relaxed mb-3 text-justify">
              {
                t(
                  "policy.section_3.description",
                  "Собранная информация используется для:"
                )
              }
            </p>
            <ul class="list-disc pl-6 space-y-2 text-muted-foreground">
              <li>
                {
                  t(
                    "policy.section_3.purposes.0",
                    "Организации и проведения экскурсий и туров"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_3.purposes.1",
                    "Связи с вами по вопросам бронирования"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_3.purposes.2",
                    "Улучшения качества наших услуг"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_3.purposes.3",
                    "Отправки информации о специальных предложениях (с вашего согласия)"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_3.purposes.4",
                    "Соблюдения законодательных требований"
                  )
                }
              </li>
            </ul>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_4.title", "4. Защита персональных данных")}
            </h2>
            <p class="text-muted-foreground leading-relaxed text-justify">
              {
                t(
                  "policy.section_4.text",
                  "Мы принимаем соответствующие меры безопасности для защиты ваших персональных данных от несанкционированного доступа, изменения, раскрытия или уничтожения. Ваши данные хранятся в защищенных системах и доступны только уполномоченным лицам."
                )
              }
            </p>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_5.title", "5. Передача данных третьим лицам")}
            </h2>
            <p class="text-muted-foreground leading-relaxed text-justify">
              {
                t(
                  "policy.section_5.text",
                  "Мы не продаем и не передаем ваши персональные данные третьим лицам, за исключением случаев, когда это необходимо для оказания наших услуг (например, партнеры по организации туров) или когда это требуется по закону."
                )
              }
            </p>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_6.title", "6. Ваши права")}
            </h2>
            <p class="text-muted-foreground leading-relaxed mb-3 text-justify">
              {
                t(
                  "policy.section_6.description",
                  "В соответствии с GDPR вы имеете право:"
                )
              }
            </p>
            <ul class="list-disc pl-6 space-y-2 text-muted-foreground">
              <li>
                {
                  t(
                    "policy.section_6.rights.0",
                    "Получить доступ к вашим персональным данным"
                  )
                }
              </li>
              <li>
                {t("policy.section_6.rights.1", "Исправить неточные данные")}
              </li>
              <li>
                {
                  t(
                    "policy.section_6.rights.2",
                    'Удалить ваши данные ("право на забвение")'
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_6.rights.3",
                    "Ограничить обработку ваших данных"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_6.rights.4",
                    "Возражать против обработки данных"
                  )
                }
              </li>
              <li>
                {
                  t(
                    "policy.section_6.rights.5",
                    "Получить копию ваших данных в машиночитаемом формате"
                  )
                }
              </li>
            </ul>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_7.title", "7. Cookies")}
            </h2>
            <p class="text-muted-foreground leading-relaxed text-justify mb-4">
              {
                t(
                  "policy.section_7.text",
                  "Наш сайт использует cookies для улучшения пользовательского опыта и анализа посещаемости. Вы можете настроить свой браузер для отклонения cookies, но это может ограничить функциональность сайта."
                )
              }
            </p>
            <h3 class="text-xl font-semibold mb-3">
              {
                t(
                  "policy.section_7.hcaptcha_title",
                  "hCaptcha и защита от спама"
                )
              }
            </h3>
            <p class="text-muted-foreground leading-relaxed text-justify">
              {
                t(
                  "policy.section_7.hcaptcha_text",
                  "Для защиты наших контактных форм от спама и автоматических атак мы используем сервис hCaptcha от Intuition Machines, Inc. При использовании формы обратной связи hCaptcha может устанавливать cookies (включая __cf_bm) для проверки того, что запрос отправлен человеком, а не ботом. Эти cookies необходимы для функционирования системы защиты и не используются для отслеживания или рекламы. Данные обрабатываются в соответствии с политикой конфиденциальности hCaptcha: https://www.hcaptcha.com/privacy"
                )
              }
            </p>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {
                t(
                  "policy.section_8.title",
                  "8. Изменения в политике конфиденциальности"
                )
              }
            </h2>
            <p class="text-muted-foreground leading-relaxed text-justify">
              {
                t(
                  "policy.section_8.text",
                  "Мы оставляем за собой право вносить изменения в данную политику конфиденциальности. Все изменения будут опубликованы на этой странице с указанием даты последнего обновления."
                )
              }
            </p>
          </section>

          <section>
            <h2 class="text-2xl font-bold mb-4">
              {t("policy.section_9.title", "9. Контакты")}
            </h2>
            <p class="text-muted-foreground leading-relaxed mb-3 text-justify">
              {
                t(
                  "policy.section_9.description",
                  "Если у вас есть вопросы о нашей политике конфиденциальности или вы хотите воспользоваться своими правами в отношении персональных данных, пожалуйста, свяжитесь с нами:"
                )
              }
            </p>
            <div class="bg-muted/50 p-6 rounded-lg space-y-2">
              <p class="text-muted-foreground">
                <strong>{t("policy.section_9.email_label", "Email:")}</strong>
                {t("policy.section_9.email", "genova.art.tour@gmail.com")}
              </p>
              <p class="text-muted-foreground">
                <strong>{t("policy.section_9.phone_label", "Телефон:")}</strong>
                {t("policy.section_9.phone", "+39 3335787461")}
              </p>
            </div>
          </section>
        </article>
      </div>
    </Container>
  </Section>
</IntlBaseLayout>

<style>
  section {
    border: none;
  }
</style>
