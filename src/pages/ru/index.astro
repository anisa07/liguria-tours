---
import IntlBaseLayout from "@/layouts/IntlBaseLayout.astro";
import { getPageTranslations, getLocaleStaticPaths } from "@/i18n/i18n";
import type { Locale } from "@/i18n/config";

// Layout components
import Container from "@/components/layout/Container.astro";
import { Image } from "astro:assets";

// Content components
import Hero from "@/components/content/Hero.astro";
import CallToAction from "@/components/content/CallToAction.astro";
import ImageGallery from "@/components/ImageGallery.astro";

// Set locale to Russian
const locale: Locale = "ru";

// Get the translation function for this page
const { t } = await getPageTranslations(locale, ["common", "ui", "home"]);

// Features data
const features = [
  {
    title: t("features.performance.title", "Lightning Fast Performance"),
    description: t(
      "features.performance.description",
      "Built with modern web technologies for maximum performance and speed. Experience sub-second load times."
    ),
    icon: "‚ö°",
  },
  {
    title: t("features.security.title", "Enterprise Security"),
    description: t(
      "features.security.description",
      "Industry-standard security protocols to keep your data safe. SOC 2 compliant with end-to-end encryption."
    ),
    icon: "üõ°Ô∏è",
  },
  {
    title: t("features.scalable.title", "Infinitely Scalable"),
    description: t(
      "features.scalable.description",
      "Grows with your business from startup to enterprise. Handle millions of users without breaking a sweat."
    ),
    icon: "üöÄ",
  },
  {
    title: t("features.collaboration.title", "Team Collaboration"),
    description: t(
      "features.collaboration.description",
      "Built for teams with real-time collaboration tools. Work together seamlessly from anywhere in the world."
    ),
    icon: "üë•",
  },
];

// Statistics data
const stats = [
  {
    label: t("stats.users.label", "Active Users"),
    value: "10M+",
    description: t("stats.users.description", "Developers worldwide"),
  },
  {
    label: t("stats.projects.label", "Projects Built"),
    value: "500K+",
    description: t("stats.projects.description", "Successful deployments"),
  },
  {
    label: t("stats.uptime.label", "Uptime"),
    value: "99.9%",
    description: t("stats.uptime.description", "Service reliability"),
  },
  {
    label: t("stats.rating.label", "Support Rating"),
    value: "4.9/5",
    description: t("stats.rating.description", "Customer satisfaction"),
  },
];

// Testimonials data
const testimonials = [
  {
    quote: t(
      "testimonials.sarah.quote",
      "TechFlow transformed our development workflow completely. We shipped features 3x faster and our team productivity skyrocketed."
    ),
    author: {
      name: t("testimonials.sarah.name", "Sarah Chen"),
      title: t("testimonials.sarah.title", "CTO"),
      company: t("testimonials.sarah.company", "TechFlow Inc."),
      avatar:
        "https://images.unsplash.com/photo-1494790108755-2616b9e91ce2?w=150&h=150&fit=crop&crop=face",
    },
    rating: 5,
    featured: true,
  },
  {
    quote: t(
      "testimonials.marcus.quote",
      "The security features and scalability are exactly what we needed for our growing platform. Outstanding support."
    ),
    author: {
      name: t("testimonials.marcus.name", "Marcus Rodriguez"),
      title: t("testimonials.marcus.title", "Lead Developer"),
      company: t("testimonials.marcus.company", "StartupCo"),
      avatar:
        "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",
    },
    rating: 5,
  },
  {
    quote: t(
      "testimonials.emily.quote",
      "The collaboration tools have revolutionized how our remote team works together. Simply the best platform."
    ),
    author: {
      name: t("testimonials.emily.name", "Emily Watson"),
      title: t("testimonials.emily.title", "Product Manager"),
      company: t("testimonials.emily.company", "InnovateLab"),
      avatar:
        "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",
    },
    rating: 5,
  },
];

// Sample gallery images
const galleryImages = [
  {
    id: "1",
    src: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=600&fit=crop",
    alt: t(
      "gallery_items.workspace.title",
      "Modern workspace with laptops and monitors"
    ),
    title: t("gallery_items.workspace.title", "Modern Development Environment"),
    description: t(
      "gallery_items.workspace.description",
      "State-of-the-art workspace designed for maximum productivity"
    ),
    thumbnail:
      "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=300&fit=crop",
  },
  {
    id: "2",
    src: "https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=600&fit=crop",
    alt: t("gallery_items.collaboration.title", "Team collaboration session"),
    title: t("gallery_items.collaboration.title", "Team Collaboration"),
    description: t(
      "gallery_items.collaboration.description",
      "Our distributed team working together on innovative solutions"
    ),
    thumbnail:
      "https://images.unsplash.com/photo-1551434678-e076c223a692?w=400&h=300&fit=crop",
  },
  {
    id: "3",
    src: "https://images.unsplash.com/photo-1487058792275-0ad4aaf24ca7?w=800&h=600&fit=crop",
    alt: t("gallery_items.development.title", "Code on multiple screens"),
    title: t("gallery_items.development.title", "Development in Action"),
    description: t(
      "gallery_items.development.description",
      "Building the next generation of web applications"
    ),
    thumbnail:
      "https://images.unsplash.com/photo-1487058792275-0ad4aaf24ca7?w=400&h=300&fit=crop",
  },
  {
    id: "4",
    src: "https://images.unsplash.com/photo-1553877522-43269d4ea984?w=800&h=600&fit=crop",
    alt: t("gallery_items.creative_workspace.title", "Modern office space"),
    title: t("gallery_items.creative_workspace.title", "Creative Workspace"),
    description: t(
      "gallery_items.creative_workspace.description",
      "Inspiring environment that fosters innovation and creativity"
    ),
    thumbnail:
      "https://images.unsplash.com/photo-1553877522-43269d4ea984?w=400&h=300&fit=crop",
  },
  {
    id: "5",
    src: "https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=800&h=600&fit=crop",
    alt: t("gallery_items.analytics.title", "Data visualization on screen"),
    title: t("gallery_items.analytics.title", "Data Analytics"),
    description: t(
      "gallery_items.analytics.description",
      "Advanced analytics and insights driving informed decisions"
    ),
    thumbnail:
      "https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=400&h=300&fit=crop",
  },
  {
    id: "6",
    src: "https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800&h=600&fit=crop",
    alt: t(
      "gallery_items.planning.title",
      "Team meeting in modern conference room"
    ),
    title: t("gallery_items.planning.title", "Strategic Planning"),
    description: t(
      "gallery_items.planning.description",
      "Planning the future of technology with our expert team"
    ),
    thumbnail:
      "https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=400&h=300&fit=crop",
  },
];

const heroActions = [
  {
    label: t("actions.trial", "Start Free Trial"),
    href: `/${locale}/signup`,
    variant: "primary" as const,
    size: "lg" as const,
  },
  {
    label: t("actions.demo", "View Demo"),
    href: `/${locale}/demo`,
    variant: "outline" as const,
    size: "lg" as const,
  },
];

const ctaActions = [
  {
    label: t("actions.trial", "Start Free Trial"),
    href: `/${locale}/signup`,
    variant: "primary" as const,
    size: "lg" as const,
  },
  {
    label: t("actions.contact", "Contact Sales"),
    href: `/${locale}/contact`,
    variant: "outline" as const,
    size: "lg" as const,
  },
];
---

<IntlBaseLayout
  locale={locale}
  pageNS={["common", "ui", "home"]}
  seo={{
    title: t(
      "seo.title",
      "TechFlow - Modern Development Platform | Build the Future"
    ),
    description: t(
      "seo.description",
      "Streamline your development workflow with our powerful, secure, and scalable platform. Join 10M+ developers building the future with TechFlow."
    ),
  }}
>
  <!-- Hero Section -->
  <section class="relative pt-20 pb-16">
    <Container size="xl" padding="lg">
      <Hero
        title={t("hero.title", "Build the Future with TechFlow")}
        subtitle={t("hero.subtitle", "The Modern Development Platform")}
        description={t(
          "hero.description",
          "Streamline your development workflow with our powerful, secure, and scalable platform. From prototype to production in record time. Join 10M+ developers who trust TechFlow."
        )}
        actions={heroActions}
        class="animate-fade-in"
      />
    </Container>
  </section>

  <!-- Stats Section -->
  <section class="py-20 bg-card/50 border-y">
    <Container size="xl" padding="lg">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        {
          stats.map((stat, index) => (
            <div class={`animate-fade-up animate-delay-${index + 1}`}>
              <div class="text-3xl md:text-4xl font-bold text-primary mb-2">
                {stat.value}
              </div>
              <div class="text-sm font-semibold text-foreground mb-1">
                {stat.label}
              </div>
              <div class="text-xs text-muted-foreground">
                {stat.description}
              </div>
            </div>
          ))
        }
      </div>
    </Container>
  </section>

  <!-- Features Section -->
  <section class="py-20">
    <Container size="xl" padding="lg">
      <div class="text-center mb-16">
        <h2
          class="text-4xl md:text-5xl font-bold text-foreground mb-6 animate-fade-up"
        >
          {t("features.title", "Powerful Features for Modern Teams")}
        </h2>
        <p
          class="text-xl text-muted-foreground max-w-3xl mx-auto animate-fade-up animate-delay-1"
        >
          {
            t(
              "features.description",
              "Everything you need to build, deploy, and scale your applications with confidence. Built by developers, for developers."
            )
          }
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        {
          features.map((feature, index) => (
            <div
              class={`bg-card p-6 rounded-lg border hover:shadow-md transition-shadow animate-fade-up animate-delay-${index + 2}`}
            >
              <div class="text-4xl mb-4">{feature.icon}</div>
              <h3 class="text-xl font-bold mb-3">{feature.title}</h3>
              <p class="text-muted-foreground">{feature.description}</p>
            </div>
          ))
        }
      </div>
    </Container>
  </section>

  <!-- Testimonials Section -->
  <section class="py-20 bg-muted/30">
    <Container size="xl" padding="lg">
      <div class="text-center mb-16">
        <h2
          class="text-4xl md:text-5xl font-bold text-foreground mb-6 animate-fade-up"
        >
          {t("testimonials.title", "Trusted by Industry Leaders")}
        </h2>
        <p
          class="text-xl text-muted-foreground animate-fade-up animate-delay-1"
        >
          {
            t(
              "testimonials.description",
              "See what our customers have to say about their experience with TechFlow."
            )
          }
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {
          testimonials.map((testimonial, index) => (
            <div
              class={`bg-card p-6 rounded-lg border animate-fade-up animate-delay-${index + 2}`}
            >
              <div class="flex mb-4">
                <span class="text-accent text-lg">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
              </div>
              <p class="text-muted-foreground mb-4">"{testimonial.quote}"</p>
              <div class="flex items-center space-x-3">
                <Image
                  src={testimonial.author.avatar}
                  alt={testimonial.author.name}
                  width={40}
                  height={40}
                  class="w-10 h-10 rounded-full object-cover"
                  loading="lazy"
                />
                <div>
                  <div class="font-semibold text-foreground">
                    {testimonial.author.name}
                  </div>
                  <div class="text-sm text-muted-foreground">
                    {testimonial.author.title}, {testimonial.author.company}
                  </div>
                </div>
              </div>
            </div>
          ))
        }
      </div>

      <!-- Company Logos -->
      <div class="mt-20 animate-fade-up animate-delay-5">
        <p class="text-center text-muted-foreground mb-8">
          {t("companies.title", "Trusted by teams at")}
        </p>
        <div
          class="flex flex-wrap justify-center items-center gap-8 opacity-60"
        >
          <div class="px-6 py-3 bg-card rounded-lg border">
            <span class="font-bold text-lg">Vercel</span>
          </div>
          <div class="px-6 py-3 bg-card rounded-lg border">
            <span class="font-bold text-lg">Netlify</span>
          </div>
          <div class="px-6 py-3 bg-card rounded-lg border">
            <span class="font-bold text-lg">Supabase</span>
          </div>
          <div class="px-6 py-3 bg-card rounded-lg border">
            <span class="font-bold text-lg">Railway</span>
          </div>
        </div>
      </div>
    </Container>
  </section>

  <!-- Gallery Section -->
  <section class="py-20 bg-muted/30">
    <Container size="lg" padding="lg">
      <div class="text-center mb-16 animate-fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-foreground mb-6">
          {t("gallery.title", "Behind the Scenes")}
        </h2>
        <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
          {
            t(
              "gallery.description",
              "Take a look at our innovative workspace and the passionate team building the future of technology."
            )
          }
        </p>
      </div>

      <div class="animate-fade-up animate-delay-1">
        <ImageGallery
          images={galleryImages}
          columns={3}
          gap={24}
          showThumbnails={true}
          showCaption={true}
          showFullscreen={true}
          lazy={true}
          aspectRatio="landscape"
          className="mb-8"
        />
      </div>
    </Container>
  </section>

  <!-- CTA Section -->
  <section
    class="py-20 bg-gradient-to-r from-primary to-accent text-primary-foreground relative overflow-hidden"
  >
    <div class="absolute inset-0 bg-gradient-to-r from-primary/90 to-accent/90">
    </div>
    <Container size="lg" padding="lg" class="relative z-10">
      <CallToAction
        title={t("cta.title", "Ready to Transform Your Workflow?")}
        subtitle={t("cta.subtitle", "Join 10M+ developers building the future")}
        description={t(
          "cta.description",
          "Start building amazing applications today with our 14-day free trial. No credit card required. Cancel anytime."
        )}
        actions={ctaActions}
        backgroundColor="primary"
        class="animate-fade-up"
      />
    </Container>
  </section>
</IntlBaseLayout>
