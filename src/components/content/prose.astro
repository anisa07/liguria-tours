---
import { cn } from "@/lib/utils";

export interface Props {
  class?: string;
  size?: "sm" | "md" | "lg" | "xl";
}

const { class: className = "", size = "lg" } = Astro.props;

const sizeClasses = {
  sm: "prose-sm",
  md: "prose-base",
  lg: "prose-lg",
  xl: "prose-xl",
};
---

<div
  class={cn(
    "prose",
    sizeClasses[size],
    "max-w-none",
    "dark:prose-invert",
    className
  )}
>
  <slot />
</div>

<style>
  /* Minimal overrides - most styling handled by global.css and @tailwindcss/typography */

  /* Ensure links use accent colors (works with both light/dark themes) */
  .prose :where(a):not(:where([class~="not-prose"] *)) {
    color: rgb(var(--color-accent));
    text-decoration-color: rgb(var(--color-accent));
  }

  .prose :where(a):hover:not(:where([class~="not-prose"] *)) {
    color: rgb(var(--color-accent-hover));
    text-decoration-color: rgb(var(--color-accent-hover));
  }
</style>
