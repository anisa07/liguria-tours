---
import { getPageTranslations } from "@/i18n/i18n";
import type { Locale } from "@/i18n/config";
import { cn } from "@/lib/utils";

export interface Props {
  locale?: Locale;
  class?: string;
}

const { locale = "ru", class: className = "" } = Astro.props;

// Get translations
const { t } = await getPageTranslations(locale, ["hero", "common"]);
---

<div
  class={cn(
    "bg-card backdrop-blur-md rounded-2xl p-6 shadow-lg border border-border/20 hover:shadow-xl transition-all duration-300",
    className
  )}
>
  <!-- Header -->
  <div class="flex items-center gap-4 mb-4">
    <div
      class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center"
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="text-primary"
      >
        <path
          d="M12 2L13.09 8.26L19 7L14.74 12L19 17L13.09 15.74L12 22L10.91 15.74L5 17L9.26 12L5 7L10.91 8.26L12 2Z"
          fill="currentColor"></path>
      </svg>
    </div>
    <div>
      <h3 class="text-lg font-semibold text-foreground">
        {t("region.title", "Лигурия")}
      </h3>
      <p class="text-sm text-muted-foreground">
        {t("region.subtitle", "Итальянская Ривьера")}
      </p>
    </div>
  </div>

  <!-- Map SVG -->
  <div
    class="relative mb-4 bg-gradient-to-br from-primary/5 to-secondary/5 rounded-xl p-4"
  >
    <div class="w-full max-w-xs mx-auto">
      <img
        src="/images/flag_map_of_liguria.svg"
        alt={t("region.map_alt", "Карта региона Лигурия")}
        class="w-full h-auto"
        loading="lazy"
      />
    </div>

    <!-- Overlay Info -->
    <div
      class="absolute top-2 right-2 bg-background/90 backdrop-blur-sm rounded-lg px-2 py-1"
    >
      <span class="text-xs text-foreground font-medium">
        {t("region.area", "5,418 км²")}
      </span>
    </div>
  </div>

  <!-- Description -->
  <div class="space-y-3">
    <p class="text-md text-foreground leading-relaxed">
      {
        t(
          "region.description",
          "Лигурия — прибрежный регион северо-западной Италии, известный своими живописными городами, расположенными на скалах над Средиземным морем."
        )
      }
    </p>

    <!-- Key Features -->
    <div class="grid grid-cols-2 gap-3 mt-4">
      <div class="text-center p-2 bg-primary/5 rounded-lg">
        <div class="text-lg font-semibold text-primary">5</div>
        <div class="text-xs text-foreground">
          {t("region.provinces", "Провинций")}
        </div>
      </div>
      <div class="text-center p-2 bg-secondary/5 rounded-lg">
        <div class="text-lg font-semibold text-secondary">350км</div>
        <div class="text-xs text-foreground">
          {t("region.coastline", "Береговая линия")}
        </div>
      </div>
    </div>

    <!-- Famous Locations -->
    <div class="mt-4">
      <h4 class="text-sm font-medium text-foreground mb-2">
        {t("region.highlights", "Основные достопримечательности")}
      </h4>
      <div class="flex flex-wrap gap-1">
        <span
          class="inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded-full"
        >
          {t("region.cinque_terre", "Чинкве-Терре")}
        </span>
        <span
          class="inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded-full"
        >
          {t("region.portofino", "Портофино")}
        </span>
        <span
          class="inline-block px-2 py-1 bg-primary/10 text-primary text-xs rounded-full"
        >
          {t("region.genoa", "Генуя")}
        </span>
      </div>
    </div>
  </div>
</div>
