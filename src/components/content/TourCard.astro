---
export interface Props {
  tour: {
    id: string;
    title: string;
    image: string;
    price: string;
    duration: string;
    rating?: number;
    href: string;
    description?: string;
  };
}

const { tour } = Astro.props;
---

<a
  href={tour.href}
  class="tour-card bg-gradient-to-br from-background to-primary/5 rounded-3xl w-full lg:max-w-md min-w-64 shadow-lg hover:shadow-2xl group flex flex-col h-full border-2 border-primary/10 hover:border-primary/30 transition-all duration-300 overflow-hidden"
>
  <div
    class="aspect-video overflow-hidden rounded-t-2xl flex-shrink-0 relative"
  >
    <div
      class="absolute inset-0 bg-gradient-to-t from-background/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10"
    >
    </div>
    <img
      src={tour.image}
      alt={tour.title}
      class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
      loading="lazy"
    />
  </div>

  <div class="flex flex-col flex-grow p-5">
    <h3
      class="text-xl font-bold mb-3 group-hover:text-primary transition-colors leading-tight"
      style="height: 3.5rem; line-height: 1.75rem; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis;"
    >
      {tour.title}
    </h3>
    {
      tour.description && (
        <p class="text-sm text-foreground/70 mb-4 line-clamp-3 text-justify leading-relaxed">
          {tour.description}
        </p>
      )
    }
    <div class="flex-grow"></div>
    <div
      class="flex justify-between items-center pt-4 border-t-2 border-primary/10"
    >
      <span class="flex items-center gap-2 text-sm text-foreground/80">
        <div
          class="w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center"
        >
          <svg
            class="w-4 h-4 text-primary"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
              clip-rule="evenodd"></path>
          </svg>
        </div>
        <span class="font-semibold">{tour.duration}</span>
      </span>
    </div>
  </div>
</a>

<style>
  .tour-card {
    position: relative;
  }

  .tour-card::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 1.5rem;
    opacity: 0;
    transition: opacity 0.3s;
    background: linear-gradient(
      135deg,
      rgb(var(--primary) / 0.05) 0%,
      transparent 100%
    );
    pointer-events: none;
  }

  .tour-card:hover::after {
    opacity: 1;
  }
</style>
